{% extends 'core/main.html' %}
{% load static %}
{% load humanize %}

{% block title %}
	Notifications
{% endblock %}

{% block styles %}
    <link rel="stylesheet" type="text/css" href="{% static 'timeline/styles.css' %}">
{% endblock %}

{% block main %}
	
	<div class="row">
		<div class="col-md-10 offset-md-1">
			 <ul class="nav nav-tabs" role="tablist">
				<li class="nav-item">
					<a class="nav-link active" id="unread" data-toggle="tab" href="#unread" role="tab" aria-controls="unread" aria-selected="true">
						<i class="fa fa-bell" aria-hidden="true"></i>
						<span style="margin-left: 1px;">Notifications</span>
					</a>
				</li>
			</ul>
			<div class="tab-content">
				<div class="tab-pane fade show active" id="unread" role="tabpanel" aria-labelledby="unread">

					<div class="row">
  						<div class="col-4">
						    <div class="list-group" id="list-tab" role="tablist">
						     	<a class="list-group-item list-group-item-action active" id="list-unread-list" data-toggle="list" href="#list-unread" role="tab" aria-controls="unread">
						     		Unread
						     		<span class="notification-number">{{ unseen.count }}</span>
						     	</a>
						      	<a class="list-group-item list-group-item-action" id="list-all-list" data-toggle="list" href="#list-all" role="tab" aria-controls="all">
						      		Recent Notifications
						      		<span class="notification-number">{{ all.count }}</span>
						      	</a>
						  	</div>
						</div>
						<div class="col-8">
    						<div class="tab-content" id="nav-tabContent">
      						<div class="tab-pane fade show active" id="list-unread" role="tabpanel" aria-labelledby="list-unread-list">
      							<ul class="list-group notification-display">
      								{% if unseen %}
	      								{% for o in unseen %}
	      									<li class="list-group-item">
	      										<a href="{% url 'notification_redirect' o.id %}" class="notification-link">
	      											<div class="notification">
	      												<div class="notification-content">
	      													{{ o.content }}
	      												</div>
	      												<span class="notification-time">
	      													{{ o.created|naturaltime}}
	      												</span>
	      											</div>
	      										</a>
	      									</li>
	      								{% endfor %}
	      							{% else %}
	      								<p class="no-notifications">You have no unseen notifications
	      									<br>
	      									<i class="fa fa-grav" aria-hidden="true"></i>
	      								</p>
	      							{% endif %}
      							</ul>
      						</div>
      						<div class="tab-pane fade" id="list-all" role="tabpanel" aria-labelledby="list-all-list">
      							<ul class="list-group notification-display">
      								{% if all %}
	      								{% for o in all %}
	      									<li class="list-group-item">
	      										{% if o.seen %}
	      											<a href="{{ o.link }}" class="notification-link">
	      										{% else %}
	      										<a href="{% url 'notification_redirect' o.id %}" class="notification-link">
	      										{% endif %}
	      											<div class="notification">
	      												<div class="notification-content">
	      													{{ o.content }}
	      												</div>
	      												<span class="notification-time">
	      													{{ o.created|naturaltime}}
	      												</span>
	      											</div>
	      										</a>
	      									</li>
	      								{% endfor %}
	      							{% else %}
	      								<p class="no-notifications">You do not have any recent notifications.
	      									<br>
	      									<i class="fa fa-grav" aria-hidden="true"></i>
	      								</p>
	      							{% endif %}
      							</ul>
      						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<style type="text/css">
		
	</style>
{% endblock %}